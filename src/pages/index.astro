---
import ImportantDatesBox from "../components/ImportantDatesBox.astro";
import LatestNewsBox from "../components/LatestNewsBox.astro";
import MainLayout from "../components/MainLayout.astro";
import UsefulInfoBox from "../components/UsefulInfoBox.astro";
import { getFrontpage } from "../lib/data";
import { generateImageUrl } from "../lib/images";

const frontpage = await getFrontpage();
---

<MainLayout>
  <div class="w-full max-w-5xl mx-auto grid grid-cols-[1fr_22rem] gap-6">
    <div class="relative group rounded-xl overflow-hidden">
      <div
        class="absolute bg-cover bg-center inset-0"
        style={`background-image: url('${generateImageUrl(
          frontpage.mainImage,
          800,
          1
        )}');`}
      >
      </div>
    </div>
    <LatestNewsBox />
  </div>
  <div class="mt-6 w-full max-w-5xl mx-auto grid grid-cols-2 gap-6 items-start">
    <ImportantDatesBox />
    <UsefulInfoBox />
  </div>
</MainLayout>
